(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{vVYG:function(e,t,n){!function(e,t,n,r,s,a,o,i,u,p,y,c,d,h,m,l,f,b,v){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i,u=u&&u.hasOwnProperty("default")?u.default:u,p=p&&p.hasOwnProperty("default")?p.default:p,y=y&&y.hasOwnProperty("default")?y.default:y,c=c&&c.hasOwnProperty("default")?c.default:c,d=d&&d.hasOwnProperty("default")?d.default:d,h=h&&h.hasOwnProperty("default")?h.default:h,m=m&&m.hasOwnProperty("default")?m.default:m,b=b&&b.hasOwnProperty("default")?b.default:b,v=v&&v.hasOwnProperty("default")?v.default:v;var w=function(e){function t(e,n,r,s,a,o,u,p,y,h){var m;return i(this,t),(m=c(this,d(t).call(this,e,n,null,h))).accounts=a,m.ensModuleFactory=r,m.contractModuleFactory=s,m.abiCoder=o,m.utils=u,m.formatters=p,m.registryOptions=n,m.net=y,m.transactionSigner=n.transactionSigner,m._registry=!1,m}return m(t,e),u(t,[{key:"setProvider",value:function(e,n){return h(d(t.prototype),"setProvider",this).call(this,e,n)&&this.registry.setProvider(e,n)}},{key:"resolver",value:function(e){return this.registry.resolver(e)}},{key:"supportsInterface",value:(w=y(p.mark(function e(t,n,r){var s;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return s=e.sent,e.abrupt("return",s.methods.supportsInterface(n).call(r));case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return w.apply(this,arguments)})},{key:"getAddress",value:(f=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return r=e.sent,e.abrupt("return",r.methods.addr(v.hash(t)).call(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return f.apply(this,arguments)})},{key:"setAddress",value:function(e,t,n,r){var s=new l.PromiEvent;return this.registry.resolver(e).then(function(a){a.methods.setAddr(v.hash(e),t).send(n,r).on("transactionHash",function(e){s.emit("transactionHash",e)}).on("confirmation",function(e,t){s.emit("confirmation",e,t)}).on("receipt",function(e){b(r)&&r(e),s.emit("receipt",e),s.resolve(e)}).on("error",function(e){b(r)&&r(e),s.emit("error",e),s.reject(e)})}),s}},{key:"getPubkey",value:(o=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return r=e.sent,e.abrupt("return",r.methods.pubkey(v.hash(t)).call(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"setPubkey",value:function(e,t,n,r,s){var a=new l.PromiEvent;return this.registry.resolver(e).then(function(o){o.methods.setPubkey(v.hash(e),t,n).send(r,s).on("transactionHash",function(e){a.emit("transactionHash",e)}).on("confirmation",function(e,t){a.emit("confirmation",e,t)}).on("receipt",function(e){b(s)&&s(e),a.emit("receipt",e),a.resolve(e)}).on("error",function(e){b(s)&&s(e),a.emit("error",e),a.reject(e)})}),a}},{key:"getText",value:(a=y(p.mark(function e(t,n,r){var s;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return s=e.sent,e.abrupt("return",s.methods.text(v.hash(t),n).call(r));case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"setText",value:function(e,t,n,r,s){var a=new l.PromiEvent;return this.registry.resolver(e).then(function(o){o.methods.setText(v.hash(e),t,n).send(r,s).on("transactionHash",function(e){a.emit("transactionHash",e)}).on("confirmation",function(e,t){a.emit("confirmation",e,t)}).on("receipt",function(e){b(s)&&s(e),a.emit("receipt",e),a.resolve(e)}).on("error",function(e){b(s)&&s(e),a.emit("error",e),a.reject(e)})}),a}},{key:"getContent",value:(s=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return r=e.sent,e.abrupt("return",r.methods.content(v.hash(t)).call(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"setContent",value:function(e,t,n,r){var s=new l.PromiEvent;return this.registry.resolver(e).then(function(a){a.methods.setContent(v.hash(e),t).send(n,r).on("transactionHash",function(e){s.emit("transactionHash",e)}).on("confirmation",function(e,t){s.emit("confirmation",e,t)}).on("receipt",function(e){b(r)&&r(e),s.emit("receipt",e),s.resolve(e)}).on("error",function(e){b(r)&&r(e),s.emit("error",e),s.reject(e)})}),s}},{key:"getMultihash",value:(r=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return r=e.sent,e.abrupt("return",r.methods.multihash(v.hash(t)).call(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"setMultihash",value:function(e,t,n,r){var s=new l.PromiEvent;return this.registry.resolver(e).then(function(a){a.methods.setMultihash(v.hash(e),t).send(n,r).on("transactionHash",function(e){s.emit("transactionHash",e)}).on("confirmation",function(e,t){s.emit("confirmation",e,t)}).on("receipt",function(e){b(r)&&r(e),s.emit("receipt",e),s.resolve(e)}).on("error",function(e){b(r)&&r(e),s.emit("error",e),s.reject(e)})}),s}},{key:"getContenthash",value:(n=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registry.resolver(t);case 2:return r=e.sent,e.abrupt("return",r.methods.contenthash(v.hash(t)).call(n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"setContenthash",value:function(e,t,n,r){var s=new l.PromiEvent;return this.registry.resolver(e).then(function(a){a.methods.setContenthash(v.hash(e),t).send(n,r).on("transactionHash",function(e){s.emit("transactionHash",e)}).on("confirmation",function(e,t){s.emit("confirmation",e,t)}).on("receipt",function(e){b(r)&&r(e),s.emit("receipt",e),s.resolve(e)}).on("error",function(e){b(r)&&r(e),s.emit("error",e),s.reject(e)})}),s}},{key:"registry",get:function(){return this._registry||(this._registry=this.ensModuleFactory.createRegistry(this.currentProvider,this.contractModuleFactory,this.accounts,this.abiCoder,this.utils,this.formatters,this.registryOptions,this.net)),this._registry}}]),t;var n,r,s,a,o,f,w}(f.AbstractWeb3Module),x=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"ttl",outputs:[{name:"",type:"uint64"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"}],k=[{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"key",type:"string"}],name:"text",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"key",type:"string"},{name:"value",type:"string"}],name:"setText",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setMultihash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"multihash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"contenthash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"ret",type:"bytes32"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"ret",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],name:"setABI",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"ret",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"pubkey",outputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],payable:!1,type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes32"}],name:"ContentChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"indexedKey",type:"string"},{indexed:!1,name:"key",type:"string"}],name:"TextChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"x",type:"bytes32"},{indexed:!1,name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"}],g=function(e){function t(e,n,r,s,a,o,u,p){var y;return i(this,t),(y=c(this,d(t).call(this,e,n,r,s,a,o,x,"",u))).net=p,y.resolverContract=null,y.resolverName=null,y}return m(t,e),u(t,[{key:"owner",value:(s=y(p.mark(function e(t,n){var r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.address){e.next=4;break}return e.next=3,this.checkNetwork();case 3:this.address=e.sent;case 4:return e.prev=4,e.next=7,this.methods.owner(v.hash(t)).call();case 7:return r=e.sent,b(n)&&n(!1,r),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(4),b(n)&&n(e.t0,null),e.t0;case 16:case"end":return e.stop()}},e,this,[[4,12]])})),function(e,t){return s.apply(this,arguments)})},{key:"setProvider",value:function(e,n){return this.resolverContract?this.resolverContract.setProvider(e,n)&&h(d(t.prototype),"setProvider",this).call(this,e,n):h(d(t.prototype),"setProvider",this).call(this,e,n)}},{key:"resolver",value:(r=y(p.mark(function e(t){var n,r;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resolverName!==t||!this.resolverContract){e.next=2;break}return e.abrupt("return",this.resolverContract);case 2:if(this.address){e.next=6;break}return e.next=5,this.checkNetwork();case 5:this.address=e.sent;case 6:return e.next=8,this.methods.resolver(v.hash(t)).call();case 8:return n=e.sent,(r=this.clone()).jsonInterface=k,r.address=n,this.resolverName=t,this.resolverContract=r,e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"checkNetwork",value:(n=y(p.mark(function e(){var t,n,r,s,a;return p.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={main:"0x314159265dD8dbb310642f98f50C066173C1259b",ropsten:"0x112234455c3a32fd11230c42e7bccd4a84e02010",rinkeby:"0xe7410170f87102df0055eb195163a03b7f2bff4a"},e.next=3,this.net.getBlockByNumber("latest",!1);case 3:if(n=e.sent,!((r=new Date/1e3-n.timestamp)>3600)){e.next=7;break}throw new Error("Network not synced; last block was ".concat(r," seconds ago"));case 7:return e.next=9,this.net.getNetworkType();case 9:if(s=e.sent,void 0!==(a=t[s])){e.next=13;break}throw new TypeError('ENS is not supported on network: "'.concat(s,'"'));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t;var n,r,s}(s.AbstractContract),P=function(){function e(){i(this,e)}return u(e,[{key:"createENS",value:function(e,t,n,r,s,a,o,i,u){return new w(e,i,this,t,n,r,s,a,o,u)}},{key:"createRegistry",value:function(e,t,n,r,s,a,o,i){return new g(e,t,n,r,s,a,o,i)}}]),e}();e.Ens=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},y=new a.AbiCoder,c=(new r.ProviderResolver).resolve(e,i);return(new P).createENS(c,new s.ContractModuleFactory(t,n.formatters,y),p,y,t,n.formatters,new o.Network(c,null,u),u,null)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("9eBz"),n("4vD9"),n("1fQp"),n("UloO"),n("TzHr"),n("OSuq"),n("lwsE"),n("W8MJ"),n("o0o1"),n("yXPU"),n("a1gu"),n("Nsbk"),n("iWIM"),n("7W2i"),n("s9tM"),n("K9+5"),n("lSCD"),n("LAvi"))}}]);