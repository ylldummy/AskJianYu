(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{u0Cg:function(t,e,n){(function(t){!function(e,n,o,i,r,a,s,c,u,l,h,f,d,p,g,k,y,m,b,w,B,v,P,T,M){"use strict";h=h&&h.hasOwnProperty("default")?h.default:h,f=f&&f.hasOwnProperty("default")?f.default:f,d=d&&d.hasOwnProperty("default")?d.default:d,p=p&&p.hasOwnProperty("default")?p.default:p,g=g&&g.hasOwnProperty("default")?g.default:g,k=k&&k.hasOwnProperty("default")?k.default:k,y=y&&y.hasOwnProperty("default")?y.default:y,m=m&&m.hasOwnProperty("default")?m.default:m,w=w&&w.hasOwnProperty("default")?w.default:w,B=B&&B.hasOwnProperty("default")?B.default:B,T=T&&T.hasOwnProperty("default")?T.default:T;var G=function(){function e(t,n){d(this,e),this.utils=t,this.formatters=n}return p(e,[{key:"sign",value:(n=f(h.mark(function e(n,o){var i,r,a,s,c;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new Error("No privateKey given to the TransactionSigner.");case 2:if(o.startsWith("0x")&&(o=o.substring(2)),(i=new g(n)).sign(t.from(o,"hex")),""===(r=i.validate(!0))){e.next=8;break}throw new Error("TransactionSigner Error: ".concat(r));case 8:return a=i.serialize().toString("hex"),s="0x"+a,c=this.utils.keccak256(s),e.abrupt("return",{messageHash:t.from(i.hash(!1)).toString("hex"),v:"0x"+t.from(i.v).toString("hex"),r:"0x"+t.from(i.r).toString("hex"),s:"0x"+t.from(i.s).toString("hex"),rawTransaction:s,transactionHash:c});case 12:case"end":return e.stop()}},e,this)})),function(t,e){return n.apply(this,arguments)})},{key:"type",get:function(){return"TransactionSigner"}}]),e;var n}(),S=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,"eth_getBlockByNumber",t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.isHash(this.parameters[0])&&(this.rpcMethod="eth_getBlockByHash"),w(y(e.prototype),"beforeExecution",this).call(this,t)}}]),e}(b.AbstractGetBlockMethod),C=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,"eth_getUncleByBlockNumberAndIndex",t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.isHash(this.parameters[0])&&(this.rpcMethod="eth_getUncleByBlockHashAndIndex"),w(y(e.prototype),"beforeExecution",this).call(this,t)}}]),e}(b.AbstractGetUncleMethod),x=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,"eth_getBlockTransactionCountByNumber",t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.isHash(this.parameters[0])&&(this.rpcMethod="eth_getBlockTransactionCountByHash"),w(y(e.prototype),"beforeExecution",this).call(this,t)}}]),e}(b.AbstractGetBlockTransactionCountMethod),A=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,"eth_getUncleCountByBlockNumber",t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.isHash(this.parameters[0])&&(this.rpcMethod="eth_getUncleCountByBlockHash"),w(y(e.prototype),"beforeExecution",this).call(this,t)}}]),e}(b.AbstractGetBlockUncleCountMethod),E=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,"eth_getTransactionByBlockNumberAndIndex",t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.isHash(this.parameters[0])&&(this.rpcMethod="eth_getTransactionByBlockHashAndIndex"),w(y(e.prototype),"beforeExecution",this).call(this,t)}}]),e}(b.AbstractGetTransactionFromBlockMethod),I=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,t,n,o))}return m(e,t),p(e,[{key:"beforeExecution",value:function(t){this.parameters[0]=this.formatters.inputTransactionFormatter(this.parameters[0],t)}},{key:"execute",value:function(){if(B(this.parameters[1])){var t=this.moduleInstance.accounts.wallet[this.parameters[1]];if(t)return this.moduleInstance.transactionSigner.sign(this.parameters[0],t.privateKey)}return w(y(e.prototype),"execute",this).call(this)}}]),e}(b.SignTransactionMethod),H=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,t,n,o))}return m(e,t),p(e,[{key:"execute",value:function(){return this.moduleInstance.accounts.wallet[this.parameters[1]]?this.signLocally():w(y(e.prototype),"execute",this).call(this)}},{key:"signLocally",value:(n=f(h.mark(function t(){var e;return h.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.beforeExecution(this.moduleInstance),e=this.moduleInstance.accounts.sign(this.parameters[1],this.moduleInstance.accounts.wallet[this.parameters[0]].privateKey),!this.callback){t.next=6;break}return this.callback(!1,e),t.abrupt("return");case 6:return t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(0),!this.callback){t.next=14;break}return this.callback(t.t0,null),t.abrupt("return");case 14:throw t.t0;case 15:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return n.apply(this,arguments)})}]),e;var n}(b.SignMethod),_=function(t){function e(t,n,o){return d(this,e),k(this,y(e).call(this,t,n,o))}return m(e,t),p(e,[{key:"execute",value:function(){if(this.moduleInstance.accounts.wallet.accountsIndex){for(var t=[],n=0;n<this.moduleInstance.accounts.wallet.accountsIndex;n++)t.push(this.moduleInstance.accounts.wallet[n].address);return Promise.resolve(t)}return w(y(e.prototype),"execute",this).call(this)}}]),e}(b.GetAccountsMethod),N=function(t){function e(t,n){var o;return d(this,e),(o=k(this,y(e).call(this,t,n))).methods={getNodeInfo:b.GetNodeInfoMethod,getProtocolVersion:b.GetProtocolVersionMethod,getCoinbase:b.GetCoinbaseMethod,isMining:b.IsMiningMethod,getHashrate:b.GetHashrateMethod,isSyncing:b.IsSyncingMethod,getGasPrice:b.GetGasPriceMethod,getAccounts:_,getBlockNumber:b.GetBlockNumberMethod,getBalance:b.GetBalanceMethod,getStorageAt:b.GetStorageAtMethod,getCode:b.GetCodeMethod,getBlock:S,getUncle:C,getBlockTransactionCount:x,getBlockUncleCount:A,getTransaction:b.GetTransactionMethod,getPendingTransactions:b.GetPendingTransactionsMethod,getTransactionFromBlock:E,getTransactionReceipt:b.GetTransactionReceiptMethod,getTransactionCount:b.GetTransactionCountMethod,sendSignedTransaction:b.SendRawTransactionMethod,signTransaction:I,sendTransaction:b.EthSendTransactionMethod,sign:H,call:b.CallMethod,estimateGas:b.EstimateGasMethod,submitWork:b.SubmitWorkMethod,getWork:b.GetWorkMethod,getPastLogs:b.GetPastLogsMethod,requestAccounts:b.RequestAccountsMethod,getId:b.VersionMethod,getChainId:b.ChainIdMethod,getProof:b.GetProofMethod},o}return m(e,t),e}(b.AbstractMethodFactory),O=function(){function t(e,n){d(this,t),this.utils=e,this.formatters=n}return p(t,[{key:"getSubscription",value:function(t,e,n){switch(e){case"logs":return new v.LogSubscription(n,this.utils,this.formatters,t,new b.GetPastLogsMethod(this.utils,this.formatters,t));case"newBlockHeaders":return new v.NewHeadsSubscription(this.utils,this.formatters,t);case"pendingTransactions":return new v.NewPendingTransactionsSubscription(this.utils,this.formatters,t);case"syncing":return new v.SyncingSubscription(this.utils,this.formatters,t);default:throw new Error("Unknown subscription: ".concat(e))}}}]),t}(),U=function(t){function e(t,n,o,i,r,a,s,c,u,l,h,f,p,g){var m;return d(this,e),(m=k(this,y(e).call(this,t,p,n,g))).net=o,m.accounts=i,m.personal=r,m.Iban=a,m.abi=s,m.ens=c,m.utils=u,m.formatters=l,m.subscriptionsFactory=h,m.contractModuleFactory=f,m.initiatedContracts=[],m._transactionSigner=p.transactionSigner,m.Contract=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=m.contractModuleFactory.createContract(m.currentProvider,m.accounts,t,e,{defaultAccount:n.from||n.defaultAccount||m.defaultAccount,defaultBlock:n.defaultBlock||m.defaultBlock,defaultGas:n.gas||n.defaultGas||m.defaultGas,defaultGasPrice:n.gasPrice||n.defaultGasPrice||m.defaultGasPrice,transactionBlockTimeout:n.transactionBlockTimeout||m.transactionBlockTimeout,transactionConfirmationBlocks:n.transactionConfirmationBlocks||m.transactionConfirmationBlocks,transactionPollingTimeout:n.transactionPollingTimeout||m.transactionPollingTimeout,transactionSigner:m.transactionSigner,data:n.data});return m.initiatedContracts.push(o),o},m}return m(e,t),p(e,[{key:"clearSubscriptions",value:function(){return w(y(e.prototype),"clearSubscriptions",this).call(this,"eth_unsubscribe")}},{key:"subscribe",value:function(t,e,n){return this.subscriptionsFactory.getSubscription(this,t,e).subscribe(n)}},{key:"setProvider",value:function(t,n){var o=this.initiatedContracts.every(function(e){return e.setProvider(t,n)});return this.net.setProvider(t,n)&&this.personal.setProvider(t,n)&&w(y(e.prototype),"setProvider",this).call(this,t,n)&&o}},{key:"transactionSigner",get:function(){return this._transactionSigner},set:function(t){if(t.type&&"TransactionSigner"===t.type)throw new Error("Invalid TransactionSigner given!");this._transactionSigner=t,this.accounts.transactionSigner=t,this.ens.transactionSigner=t,this.initiatedContracts.forEach(function(e){e.transactionSigner=t})}},{key:"defaultGasPrice",set:function(t){this.initiatedContracts.forEach(function(e){e.defaultGasPrice=t}),this.net.defaultGasPrice=t,this.personal.defaultGasPrice=t,T(y(e.prototype),"defaultGasPrice",t,this,!0)},get:function(){return w(y(e.prototype),"defaultGasPrice",this)}},{key:"defaultGas",set:function(t){this.initiatedContracts.forEach(function(e){e.defaultGas=t}),this.net.defaultGas=t,this.personal.defaultGas=t,T(y(e.prototype),"defaultGas",t,this,!0)},get:function(){return w(y(e.prototype),"defaultGas",this)}},{key:"transactionBlockTimeout",set:function(t){this.initiatedContracts.forEach(function(e){e.transactionBlockTimeout=t}),this.net.transactionBlockTimeout=t,this.personal.transactionBlockTimeout=t,T(y(e.prototype),"transactionBlockTimeout",t,this,!0)},get:function(){return w(y(e.prototype),"transactionBlockTimeout",this)}},{key:"transactionConfirmationBlocks",set:function(t){this.initiatedContracts.forEach(function(e){e.transactionConfirmationBlocks=t}),this.net.transactionConfirmationBlocks=t,this.personal.transactionConfirmationBlocks=t,T(y(e.prototype),"transactionConfirmationBlocks",t,this,!0)},get:function(){return w(y(e.prototype),"transactionConfirmationBlocks",this)}},{key:"transactionPollingTimeout",set:function(t){this.initiatedContracts.forEach(function(e){e.transactionPollingTimeout=t}),this.net.transactionPollingTimeout=t,this.personal.transactionPollingTimeout=t,T(y(e.prototype),"transactionPollingTimeout",t,this,!0)},get:function(){return w(y(e.prototype),"transactionPollingTimeout",this)}},{key:"defaultAccount",set:function(t){var n=this;this.initiatedContracts.forEach(function(e){e.defaultAccount=n.utils.toChecksumAddress(t)}),this.net.defaultAccount=t,this.personal.defaultAccount=t,T(y(e.prototype),"defaultAccount",t,this,!0)},get:function(){return w(y(e.prototype),"defaultAccount",this)}},{key:"defaultBlock",set:function(t){this.initiatedContracts.forEach(function(e){e.defaultBlock=t}),this.net.defaultBlock=t,this.personal.defaultBlock=t,T(y(e.prototype),"defaultBlock",t,this,!0)},get:function(){return w(y(e.prototype),"defaultBlock",this)}}]),e}(M.AbstractWeb3Module);function F(){return new G(l,n.formatters)}e.Eth=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h.transactionSigner&&"TransactionSigner"!==h.transactionSigner.type||(h.transactionSigner=new F);var f=(new P.ProviderResolver).resolve(t,e),d=new o.Accounts(f,null,h),p=new s.AbiCoder;return new U(f,new N(l,n.formatters),new u.Network(f,null,h),d,new a.Personal(f,null,d,h),c.Iban,p,new i.Ens(f,null,d,h),l,n.formatters,new O(l,n.formatters),new r.ContractModuleFactory(l,n.formatters,p,d),h,e)},e.TransactionSigner=F,Object.defineProperty(e,"__esModule",{value:!0})}(e,n("4vD9"),n("l5K6"),n("vVYG"),n("UloO"),n("Qmc5"),n("TzHr"),n("wfRy"),n("OSuq"),n("9eBz"),n("o0o1"),n("yXPU"),n("lwsE"),n("W8MJ"),n("29nN"),n("a1gu"),n("Nsbk"),n("7W2i"),n("s9tM"),n("iWIM"),n("4qC0"),n("ziaO"),n("1fQp"),n("AQtn"),n("K9+5"))}).call(this,n("tjlA").Buffer)}}]);